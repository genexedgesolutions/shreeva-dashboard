"use strict";(()=>{var e={};e.id=379,e.ids=[379,888,660],e.modules={8037:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>h,default:()=>p,getServerSideProps:()=>m,getStaticPaths:()=>x,getStaticProps:()=>u,reportWebVitals:()=>b,routeModule:()=>P,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>f});var s=a(7093),l=a(5244),i=a(1323),o=a(9209),n=a.n(o),d=a(9597),c=a(6179),g=e([d,c]);[d,c]=g.then?(await g)():g;let p=(0,i.l)(c,"default"),u=(0,i.l)(c,"getStaticProps"),x=(0,i.l)(c,"getStaticPaths"),m=(0,i.l)(c,"getServerSideProps"),h=(0,i.l)(c,"config"),b=(0,i.l)(c,"reportWebVitals"),f=(0,i.l)(c,"unstable_getStaticProps"),y=(0,i.l)(c,"unstable_getStaticPaths"),j=(0,i.l)(c,"unstable_getStaticParams"),v=(0,i.l)(c,"unstable_getServerProps"),S=(0,i.l)(c,"unstable_getServerSideProps"),P=new s.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/admin/blogs",pathname:"/admin/blogs",bundlePath:"",filename:""},components:{App:d.default,Document:n()},userland:c});r()}catch(e){r(e)}})},6179:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>BlogsPage});var s=a(997),l=a(5941),i=a(1842),o=a(3142),n=a(824),d=a(6689),c=a(3590),g=a(3692),p=a(1664),u=a.n(p),x=e([l,i,o,c]);[l,i,o,c]=x.then?(await x)():x;let fetcher=e=>i.Z.get(e,{params:{_t:Date.now()}});function BlogsPage(){let{data:e,error:t,isValidating:a,mutate:r}=(0,l.default)("/blogs/get-all-blogs",fetcher,{revalidateOnFocus:!0}),p=e||[],handleDelete=async(e,t)=>{if(confirm(`Delete blog: ${t}?`))try{await i.Z.delete(`/blogs/delete/${e}`),c.toast.success("Blog deleted"),r()}catch(e){c.toast.error("Failed to delete blog")}},x=(0,d.useMemo)(()=>[{id:"image",name:"Image",cell:e=>e.image?.[0]?s.jsx("img",{src:e.image[0],alt:e.title,style:{height:40,borderRadius:4}}):"—",width:"90px"},{id:"title",name:"Title",selector:e=>e.title,sortable:!0},{id:"category",name:"Category",selector:e=>e.category,sortable:!0},{id:"author",name:"Author",selector:e=>e.author||"—"},{id:"created",name:"Created At",selector:e=>e.createdAt?new Date(e.createdAt).toLocaleString():"-",sortable:!0},{id:"actions",name:"Actions",cell:e=>(0,s.jsxs)("div",{style:{display:"flex",gap:6},children:[s.jsx(u(),{href:`/admin/blogs/${e.slug}/view`,legacyBehavior:!0,children:s.jsx("a",{className:"btn ghost",style:{padding:"4px 8px",display:"inline-flex",alignItems:"center",gap:4},children:s.jsx(g.rDJ,{})})}),s.jsx(u(),{href:`/admin/blogs/${e.slug}/edit`,legacyBehavior:!0,children:s.jsx("a",{className:"btn",style:{padding:"4px 8px",display:"inline-flex",alignItems:"center",gap:4},children:s.jsx(g.vPQ,{})})}),s.jsx("button",{className:"btn",style:{background:"#ef4444",color:"white",padding:"4px 8px",display:"inline-flex",alignItems:"center",gap:4},onClick:()=>handleDelete(e._id,e.title),children:s.jsx(g.Ybf,{})})]})}],[r]);return t?s.jsx(o.Z,{title:"Blogs",children:s.jsx("div",{className:"card",children:"❌ Error loading blogs"})}):e?(0,s.jsxs)(o.Z,{title:"Blogs",children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[s.jsx("h2",{children:"Blogs"}),s.jsx(u(),{href:"/admin/blogs/new",legacyBehavior:!0,children:s.jsx("a",{className:"btn",children:"+ Add Blog"})})]}),(0,s.jsxs)("div",{className:"card",children:[a&&s.jsx("div",{style:{marginBottom:8},children:"\uD83D\uDD04 Refreshing…"}),s.jsx(n.Z,{title:`Blogs (${p.length})`,columns:x,data:p,selectable:!0,defaultSortFieldId:"title"})]})]}):s.jsx(o.Z,{title:"Blogs",children:s.jsx("div",{className:"card",children:"⏳ Loading..."})})}r()}catch(e){r(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},5813:e=>{e.exports=require("react-csv")},2583:e=>{e.exports=require("react-data-table-component")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9816:e=>{e.exports=require("styled-jsx/style")},9648:e=>{e.exports=import("axios")},3590:e=>{e.exports=import("react-toastify")},5941:e=>{e.exports=import("swr")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},7310:e=>{e.exports=require("url")},9796:e=>{e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[761,544,994,450,345,597,142,824],()=>__webpack_exec__(8037));module.exports=a})();