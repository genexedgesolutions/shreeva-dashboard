"use strict";(()=>{var e={};e.id=444,e.ids=[444,888,660],e.modules={6736:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>m,default:()=>x,getServerSideProps:()=>u,getStaticPaths:()=>p,getStaticProps:()=>g,reportWebVitals:()=>j,routeModule:()=>S,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>_,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>b});var a=r(7093),i=r(5244),l=r(1323),d=r(9209),n=r.n(d),c=r(9597),o=r(1304),h=e([c,o]);[c,o]=h.then?(await h)():h;let x=(0,l.l)(o,"default"),g=(0,l.l)(o,"getStaticProps"),p=(0,l.l)(o,"getStaticPaths"),u=(0,l.l)(o,"getServerSideProps"),m=(0,l.l)(o,"config"),j=(0,l.l)(o,"reportWebVitals"),b=(0,l.l)(o,"unstable_getStaticProps"),f=(0,l.l)(o,"unstable_getStaticPaths"),y=(0,l.l)(o,"unstable_getStaticParams"),v=(0,l.l)(o,"unstable_getServerProps"),_=(0,l.l)(o,"unstable_getServerSideProps"),S=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/admin/categories",pathname:"/admin/categories",bundlePath:"",filename:""},components:{App:c.default,Document:n()},userland:o});s()}catch(e){s(e)}})},1304:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>CategoriesIndex});var a=r(997),i=r(5941),l=r(1842),d=r(3142),n=r(1664),c=r.n(n);r(6689);var o=r(3692),h=r(3590),x=e([i,l,d,h]);[i,l,d,h]=x.then?(await x)():x;let fetcher=e=>l.Z.get(e,{params:{_t:Date.now()}});function CategoriesIndex(){let{data:e,error:t,mutate:r,isValidating:s}=(0,i.default)("/categories",fetcher,{revalidateOnFocus:!0});if(t)return a.jsx(d.Z,{title:"Categories",children:a.jsx("div",{className:"card",children:"❌ Error loading categories"})});if(!e)return a.jsx(d.Z,{title:"Categories",children:a.jsx("div",{className:"card",children:"⏳ Loading..."})});let n=e?.data??e?.categories??e??[],handleDelete=async(e,t)=>{if(confirm(`Delete category "${t}"?`))try{await l.Z.delete(`/categories/${e}`),h.toast.success("Category deleted"),r()}catch(e){h.toast.error(e?.response?.data?.message||"Failed to delete")}};return(0,a.jsxs)(d.Z,{title:"Product Categories",children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[a.jsx("h2",{children:"Categories"}),a.jsx(c(),{href:"/admin/categories/new",legacyBehavior:!0,children:(0,a.jsxs)("a",{className:"btn",children:[a.jsx(o.OvN,{})," Add Category"]})})]}),(0,a.jsxs)("div",{className:"card",children:[s&&a.jsx("div",{style:{marginBottom:8},children:"\uD83D\uDD04 Refreshing…"}),(0,a.jsxs)("table",{id:"datable",className:"table",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("th",{children:"Image"}),a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Slug"}),a.jsx("th",{children:"Parent"}),a.jsx("th",{children:"Active"}),a.jsx("th",{children:"Created"}),a.jsx("th",{children:"Actions"})]})}),(0,a.jsxs)("tbody",{children:[0===n.length&&a.jsx("tr",{children:a.jsx("td",{colSpan:"7",children:"No categories"})}),n.map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{style:{width:90},children:e.thumbnail?a.jsx("img",{src:e.thumbnail,alt:e.name,style:{height:40,borderRadius:6}}):e.images?.[0]?a.jsx("img",{src:e.images[0],alt:e.name,style:{height:40,borderRadius:6}}):"—"}),a.jsx("td",{children:e.name}),a.jsx("td",{children:e.slug||"—"}),a.jsx("td",{children:e.parentName||e.parent||"—"}),a.jsx("td",{children:e.isActive?"Yes":"No"}),a.jsx("td",{children:e.createdAt?new Date(e.createdAt).toLocaleString():"-"}),a.jsx("td",{children:(0,a.jsxs)("div",{style:{display:"flex",gap:6},children:[a.jsx(c(),{href:`/admin/category/${e._id}/view`,legacyBehavior:!0,children:a.jsx("a",{className:"btn ghost",style:{padding:"4px 8px"},children:a.jsx(o.rDJ,{})})}),a.jsx(c(),{href:`/admin/categories/${e._id}/edit`,legacyBehavior:!0,children:a.jsx("a",{className:"btn",style:{padding:"4px 8px"},children:a.jsx(o.vPQ,{})})}),a.jsx("button",{className:"btn",style:{background:"#ef4444",color:"#fff",padding:"4px 8px"},onClick:()=>handleDelete(e._id||e.id,e.name),children:a.jsx(o.Ybf,{})})]})})]},e._id||e.id))]})]})]})]})}s()}catch(e){s(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9816:e=>{e.exports=require("styled-jsx/style")},9648:e=>{e.exports=import("axios")},3590:e=>{e.exports=import("react-toastify")},5941:e=>{e.exports=import("swr")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},7310:e=>{e.exports=require("url")},9796:e=>{e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[761,544,994,450,345,597,142],()=>__webpack_exec__(6736));module.exports=r})();